set(dydx_protobuf_HEADERS)
foreach(_file ${PROTO_GENERATED_FILES})
  if(_file MATCHES ".h$")
    list(APPEND dydx_protobuf_HEADERS ${_file})
  endif()
endforeach()

add_custom_target(generate_headers ALL DEPENDS ${dydx_protobuf_HEADERS})
install(DIRECTORY ${PROTO_BINARY_DIR}/ DESTINATION ${INCLUDE_INSTALL_DIR} COMPONENT protocol FILES_MATCHING PATTERN "*.h" PATTERN "CMakeFiles" EXCLUDE)
